{"version":3,"file":"Sandbox.58ee4ace.js","sources":["../../../../../../node_modules/@nuxt-themes/docus-edge/components/content/Sandbox.vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst props = defineProps({\n  src: {\n    type: String,\n    default: ''\n  },\n  repo: {\n    type: String,\n    default: ''\n  },\n  branch: {\n    type: String,\n    default: ''\n  },\n  dir: {\n    type: String,\n    default: ''\n  },\n  file: {\n    type: String,\n    default: 'app.vue'\n  }\n})\n\nconst colorMode = useColorMode()\n\nconst providers = {\n  CodeSandBox: () => `https://codesandbox.io/embed/github/${props.repo}/tree/${props.branch}/${props.dir}?hidenavigation=1&theme=${colorMode.value}`,\n  StackBlitz: () => `https://stackblitz.com/github/${props.repo}/tree/${props.branch}/${props.dir}?embed=1&file=${props.file}&theme=${colorMode.value}`\n}\n\nconst providersTabs = Object.keys(providers).map(p => ({ label: p }))\nconst activeTabIndex = ref(-1)\nconst tabs = ref()\nconst url = ref('')\nconst provider = ref('')\n\nconst changeProvider = (value) => {\n  provider.value = value\n  url.value = props.src || providers[provider.value]()\n  localStorage.setItem('docus_sandbox', value)\n}\n\nconst sandBoxUrl = computed(() => url.value?.replace('?embed=1&', '?').replace('/embed/', '/s/'))\n\nconst updateTab = (i: number) => {\n  activeTabIndex.value = i\n  changeProvider(providersTabs[i].label)\n}\n\nonMounted(() => {\n  // TODO: if Safari, use CodeSandBox by default: const defaultSandbox = ...\n  provider.value = window.localStorage.getItem('docus_sandbox') || 'CodeSandBox'\n\n  url.value = props.src || providers[provider.value]()\n\n  // Set active tab\n  activeTabIndex.value = Object.keys(providers).indexOf(provider.value)\n})\n</script>\n\n<template>\n  <div class=\"sandbox my-4 min-h-[500px] w-full\">\n    <TabsHeader v-if=\"!src\" ref=\"tabs\" :active-tab-index=\"activeTabIndex\" :tabs=\"providersTabs\" @update:active-tab-index=\"updateTab\">\n      <template #footer>\n        <div class=\"absolute top-1/2 right-0 -translate-y-1/2 transform px-4\">\n          <NuxtLink class=\"u-text-gray-500 hover:u-text-gray-700 flex items-center\" :to=\"sandBoxUrl\" target=\"_blank\">\n            <Icon name=\"heroicons-outline:arrows-expand\" class=\"h-6 w-6\" />\n          </NuxtLink>\n        </div>\n      </template>\n    </TabsHeader>\n\n    <iframe\n      v-if=\"url\"\n      :src=\"url\"\n      title=\"Sandbox editor\"\n      sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"\n      class=\"h-full min-h-[700px] w-full overflow-hidden\"\n    />\n\n    <span v-else class=\"flex-1 text-white\">Loading Sandbox...</span>\n  </div>\n</template>\n\n<style lang=\"postcss\" scoped>\n\n.sandbox {\n  @apply overflow-hidden rounded-lg bg-white text-3xl dark:bg-gray-900;\n\n  iframe {\n    @apply h-64 w-full overflow-hidden rounded-lg rounded-tl-none rounded-tr-none;\n    height: 700px;\n  }\n}\n\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,UAAA,YAAA;AAEA,UAAA,YAAA;AAAA,MAAA,aAAA,MAAA,uCAAA,MAAA,aAAA,MAAA,UAAA,MAAA,8BAAA,UAAA;AAAA,MACA,YAAA,MAAA,iCAAA,MAAA,aAAA,MAAA,UAAA,MAAA,oBAAA,MAAA,cAAA,UAAA;AAAA,IACA;AAGA,UAAA,gBAAA,OAAA,KAAA,SAAA,EAAA,IAAA,CAAA,OAAA,EAAA,OAAA,EAAA,EAAA;AACA,UAAA,iBAAA,IAAA,EAAA;AACA,UAAA,OAAA;AACA,UAAA,MAAA,IAAA,EAAA;AACA,UAAA,WAAA,IAAA,EAAA;AAEA,UAAA,iBAAA,CAAA,UAAA;AACA,eAAA,QAAA;AACA,UAAA,QAAA,MAAA,OAAA,UAAA,SAAA;AACA,mBAAA,QAAA,iBAAA,KAAA;AAAA,IAAA;AAGA,UAAA,aAAA,SAAA;;AAAA,uBAAA,UAAA,mBAAA,QAAA,aAAA,KAAA,QAAA,WAAA;AAAA,KAAA;AAEA,UAAA,YAAA,CAAA,MAAA;AACA,qBAAA,QAAA;AACA,qBAAA,cAAA,GAAA,KAAA;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}